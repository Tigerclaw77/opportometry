/* Page width */
.jobs-page {
  width: min(1300px, 96vw);
  margin: 0 auto;
}

/* Uniform height for the two top panels */
:root {
  --top-panel-height: 360px;     /* tweak once, both panels update */
}

/* ===== TOP ROW: filters + map side-by-side (desktop) ===== */
.jobs-top,
.jobs-main { /* support either class name you've used */
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
  align-items: stretch;
  margin-bottom: 14px;
}

/* Left panel wraps the filter UI and gives it a fixed outer height */
.filters-panel {
  height: var(--top-panel-height);
  min-height: 280px;
  padding: 12px;                 /* avoids margin-collapsing, prevents stagger */
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 12px;
  overflow: hidden;
  /* optional subtle glass; keep if you like your current style */
  background: rgba(20,22,28,0.35);
  backdrop-filter: blur(6px);
}

/* Make the filter component fill this panel */
.filters-panel > .job-filter {
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}

/* Map side */
.top-map {
  height: var(--top-panel-height);
  display: flex;
  flex-direction: column;
}

/* Hide toolbar on wide screens so it doesn't add stray spacing */
.map-toolbar { display: none; }
@media (max-width: 1100px) {
  .map-toolbar {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 8px;
  }
}

.map-toggle {
  border: 1px solid rgba(255,255,255,0.25);
  background: rgba(30, 40, 52, 0.6);
  color: #e9eefc;
  padding: 6px 10px;
  border-radius: 10px;
  cursor: pointer;
}

/* The Google map fills whatever vertical space top-map gives it */
.job-map-inner.top {
  flex: 1;                       /* <— key fix: no fixed px height here */
  width: 100%;
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 12px;
  overflow: hidden;
  background: #0e1116;
  box-shadow: 0 10px 24px rgba(0,0,0,0.22);
}

.map-collapsed { display: flex; justify-content: flex-end; }

/* ===== CARDS UNDERNEATH: make them wider by default ===== */
/* Default to 2 columns (more breathing room). Go 3-up only on very wide. */
.job-cards {
  display: grid;
  grid-template-columns: repeat(2, minmax(360px, 1fr));
  gap: 14px;
  margin: 8px 0 12px;
  align-items: start;
}

.map-card {
  height: 360px;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(14,17,22,0.95);
}
.map-card .job-map-inner { width: 100%; height: 100%; }

/* Three columns only when there’s lots of space */
@media (min-width: 1500px) {
  .job-cards { grid-template-columns: repeat(3, 1fr); }
}

/* ===== Stack top row at ≤1100px to avoid stagger entirely ===== */
@media (max-width: 1100px) {
  .jobs-top { grid-template-columns: 1fr; }
  .filters-panel { height: auto; }
  .top-map { height: auto; }
  .job-map-inner.top { height: 320px; }  /* compact map when stacked */
  .map-card { height: 320px; }
}

/* Extra small phones */
@media (max-width: 720px) {
  .job-map-inner.top { height: 300px; }
  .job-cards { grid-template-columns: 1fr; }
}
